.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "DET_BIND" "3" "24 July 2008" "" ""

.SH NAME
det_bind \- 
.SH SYNOPSIS
.sp
\fB
.sp
int det_bind  (struct det_qp * const \fIqp\fB, const __u64 \fIid\fB, struct det_mw * const \fImw\fB, struct det_mr * const \fImr\fB, net32_t * const \fIr_key\fB, const __u64 \fIvaddr\fB, const __u32 \fIlength\fB, const enum det_access_ctrl \fIaccess\fB, const enum det_wr_flags \fIflags\fB);
\fR
.SH "ARGUMENTS"
.TP
\fB\fIqp\fB\fR
A pointer to the queue pair to which this work
request is being submitted.
.TP
\fB\fIid\fB\fR
A 64-bit work request identifier that is returned
to the client as part of the work completion.
.TP
\fB\fImw\fB\fR
A pointer to the memory window to which is being
bound.
.TP
\fB\fImr\fB\fR
A pointer to the memory region to which this memory
window is being bound.  This field is ignored if
length is zero.
.TP
\fB\fIr_key\fB\fR
Upon successful completion of this call, this
references an authorization key used for remote
access to the memory window.
.TP
\fB\fIvaddr\fB\fR
A virtual address within the memory region to the
first byte of the bound memory window.  This field
is ignored if length is zero.
.TP
\fB\fIlength\fB\fR
The size of the memory window in bytes.
.TP
\fB\fIaccess\fB\fR
A set of flags used to control the access rights
of the bound memory window.  This field is ignored
if length is zero.
.TP
\fB\fIflags\fB\fR
A set of flags used to control the operation of
the work request.
.SH "DESCRIPTION"
.PP
This routine posts a request to bind a memory window to a
registered memory region.  The bind operation occurs on the
specified queue pair, but the bound region is usable across
all queue pairs within the same protection domain.  A bind
operation will automatically fence all subsequent work
requests submitted to the send queue of the queue pair until
the bind operation is complete.  A previously bound memory
window can be bound to a new virtual address range in the
same or a different memory region, causing the previous
binding to be invalidated.  Binding a memory window to
a zero-length virtual address range will invalidate any
previous binding and return an r_key that is unbound.
.SH "RETURN VALUES"
.PP
0
The work request was successfully posted.
.PP
EACCES
The memory region access rights do not allow memory window binding.
.PP
EFAULT
An invalid address was provided.  This return value only applies
to user-mode.
.PP
EINVAL
An invalid parameter was provided.
.PP
ENOMEM
There was insufficient memory to post the work request.
.PP
ENOTCONN
The current queue pair state does not allow posting work requests.
.PP
ENOSPC
The number of posted work requests exceed the current depth
available on the send queue of the queue pair.
.PP
EPERM
The queue pair, memory window, and memory region do not belong to
the same protection domain.
.PP
ERANGE
The specified virtual address and/or length of the memory window
exceed the memory region boundaries.
.SH "SEE ALSO"
.PP
\fBdet_create_qp\fR
