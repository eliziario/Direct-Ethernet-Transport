.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "DET_ARM_CQ" "3" "24 July 2008" "" ""

.SH NAME
det_arm_cq \- 
.SH SYNOPSIS
.sp
\fB
.sp
int det_arm_cq  (struct det_cq * const \fIcq\fB, const enum det_cq_arm \fIarm\fB, const __u32 \fIthreshold\fB);
\fR
.SH "ARGUMENTS"
.TP
\fB\fIcq\fB\fR
A pointer to an existing completion queue.
.TP
\fB\fIarm\fB\fR
A set of flags indicating when the completion queue
should generate the next notification event.
.TP
\fB\fIthreshold\fB\fR
The number of entries that should be on the completion
queue before generating a notification event.  This
parameter is only used if the DET_CQ_THRESHOLD arm
flag is set.  The threshold value must be greater
than or equal to one.
.SH "DESCRIPTION"
.PP
This routine sets the completion queue to generate a notification
event when the conditions specified by the arm flags are met.
.PP
When the DET_CQ_THRESHOLD arm flag is set, a notification event
will be generated when the number of work completions on the
completion queue reach the given threshold value.  The event
may be generated immediately if current depth of the completion
queue meets or exceeds the given threshold value.
.PP
When the DET_CQ_NEXT_SOLICITED arm flag is set, the completion
queue will generate a notification event when the next work
completion is added to the queue with the DET_WC_SOLICITED
bit set or when the next unsuccessful work completion is added
to the completion queue.
.PP
When the DET_CQ_NEXT_SIGNALED arm flag is set, the completion
queue will generate a notification event when the next work
completion is added to the queue.  Thus, the DET_CQ_NEXT_SIGNALED
arm flag has priority over all other arm types.
.PP
Once armed, a completion queue cannot be disarmed.  Calling this
routine multiple times before a notification event is generated
has the effect of OR-ing the arm flag settings together; in this
case, the last threshold value specified will be used.  Only one
notification event will be generated even though multiple calls
were made prior to the notification event for the specified
completion queue.  Once the notification event is generated,
another request to arm the completion queue must be registered
before the next notification event is generated for the specified
completion queue.
.SH "RETURN VALUES"
.PP
0
The completion queue arm request was registered successfully.
.PP
EINVAL
An invalid parameter was provided.
.SH "SEE ALSO"
.PP
\fBdet_create_cq\fR, \fBdet_poll_cq\fR
