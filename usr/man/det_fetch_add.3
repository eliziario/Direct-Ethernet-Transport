.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "DET_FETCH_ADD" "3" "24 July 2008" "" ""

.SH NAME
det_fetch_add \- 
.SH SYNOPSIS
.sp
\fB
.sp
int det_fetch_add  (struct det_qp * const \fIqp\fB, const __u64 \fIid\fB, const __u64 \fIadd_operand\fB, const struct det_local_ds * const \fIlocal_ds\fB, const net64_t \fIremote_address\fB, const net32_t \fIremote_key\fB, const enum det_wr_flags \fIflags\fB);
\fR
.SH "ARGUMENTS"
.TP
\fB\fIqp\fB\fR
A pointer to the queue pair to which this work
request is being submitted.
.TP
\fB\fIid\fB\fR
A 64-bit work request identifier that is returned
to the client as part of the work completion.
.TP
\fB\fIadd_operand\fB\fR
The data used with the atomic fetch/add operation.
.TP
\fB\fIlocal_ds\fB\fR
A reference to a local data segment where a copy
of the original contents of the remote memory
operation will be deposited after the fetch/add
operation is completed at the remote endnode.
.TP
\fB\fIremote_address\fB\fR
The address of a remote memory region for the atomic
fetch/add operation.  This address must be aligned
on 64-bit boundary.
.TP
\fB\fIremote_key\fB\fR
The authorization key provided for the remote
memory region.
.TP
\fB\fIflags\fB\fR
A set of flags used to control the operation of
the work request.
.SH "DESCRIPTION"
.PP
This routine posts an atomic fetch/add work request to the send
queue of a queue pair.
.SH "RETURN VALUES"
.PP
0
The work request was successfully posted.
.PP
EACCES
The access rights of the local data segment do not allow local
write access.
.PP
EINVAL
An invalid parameter was provided.
.PP
ENOBUFS
The queue pair max_or attribute does not allow outstanding atomic
work requests on the send queue.
.PP
ENOTCONN
The current queue pair state does not allow posting work requests.
.PP
ENOSPC
The number of posted work requests exceed the current depth
available on the send queue of the queue pair.
.PP
ENXIO
The local authorization key of the data segment is invalid.
.PP
EOVERFLOW
The data segment length is too small to perform a 64-bit atomic
operation.
.PP
EPERM
The queue pair and local data segment buffer do not belong to
the same protection domain.
.PP
ERANGE
The specified virtual address and/or length of the data segment
exceed the memory region boundaries.
.SH "SEE ALSO"
.PP
\fBdet_create_qp\fR
